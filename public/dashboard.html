<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <link rel="stylesheet" href="assets/css/styles.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
  <title>Dashboard</title>
</head>

<style>
  .row-header, .row-data {
    display: flex;
    justify-content: space-between;
    padding: 10px 20px;
  }

  .row-header p, .row-data p {
    flex: 1;
    margin: 0;
    text-align: center;
  }

  .modal-backdrop {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background-color: rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(4px);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
  }

  .modal-content {
    background: white;
    padding: 2rem;
    border-radius: 12px;
    z-index: 1001;
    max-width: 90%;
    box-shadow: 0 0 10px rgba(0,0,0,0.3);
  }

  .d-none {
    display: none !important;
  }
</style>
<body>

  <header class="d-flex justify-content-center gap-4 px-5">
    <span id="logo" onclick="window.location.href='index.html'" class="material-symbols-outlined">movie</span>
    <input id="inputPesquisa" type="text" placeholder="Pesquisar">
  </header>

  <script>
    const input = document.getElementById('inputPesquisa');

    input.addEventListener('keydown', function (e) {
      if (e.key === 'Enter') {
        const query = input.value.trim();
        if (query) {
          window.location.href = `resultados.html?query=${encodeURIComponent(query)}`;
        }
      }
    });
  </script>

  <div id="abaixarConteudo" class="mt-2">
    <button id="menu-toggle" class="menu-toggle mt-2">
      <span class="icon-wrapper">
        <span  class="material-symbols-outlined menu-icon">menu</span>
        <span class="material-symbols-outlined close-icon">close</span>
      </span>
    </button>
    
    <aside id="sidebar" class="sidebar">
      <ul>
        <li class="d-flex align-items-center">
          <svg class="ms-3" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#FFFFFF"><path d="M240-200h120v-240h240v240h120v-360L480-740 240-560v360Zm-80 80v-480l320-240 320 240v480H520v-240h-80v240H160Zm320-350Z"/></svg>
          <a href="index.html">Página Inicial</a>
        </li>
        <li class="d-flex align-items-center">
          <svg class="ms-3" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#FFFFFF"><path d="M480-480q-66 0-113-47t-47-113q0-66 47-113t113-47q66 0 113 47t47 113q0 66-47 113t-113 47ZM160-160v-112q0-34 17.5-62.5T224-378q62-31 126-46.5T480-440q66 0 130 15.5T736-378q29 15 46.5 43.5T800-272v112H160Zm80-80h480v-32q0-11-5.5-20T700-306q-54-27-109-40.5T480-360q-56 0-111 13.5T260-306q-9 5-14.5 14t-5.5 20v32Zm240-320q33 0 56.5-23.5T560-640q0-33-23.5-56.5T480-720q-33 0-56.5 23.5T400-640q0 33 23.5 56.5T480-560Zm0-80Zm0 400Z"/></svg>
          <a href="perfil.html">Perfil</a>
        </li>
        <li class="d-flex align-items-center">
          <svg class="ms-3" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#FFFFFF"><path d="m354-287 126-76 126 77-33-144 111-96-146-13-58-136-58 135-146 13 111 97-33 143ZM233-120l65-281L80-590l288-25 112-265 112 265 288 25-218 189 65 281-247-149-247 149Zm247-350Z"/></svg>
          <a href="favoritos.html">Favoritos</a>
        </li>
        <li class="d-flex align-items-center">
          <svg class="ms-3" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#FFFFFF"><path d="m260-520 220-360 220 360H260ZM700-80q-75 0-127.5-52.5T520-260q0-75 52.5-127.5T700-440q75 0 127.5 52.5T880-260q0 75-52.5 127.5T700-80Zm-580-20v-320h320v320H120Zm580-60q42 0 71-29t29-71q0-42-29-71t-71-29q-42 0-71 29t-29 71q0 42 29 71t71 29Zm-500-20h160v-160H200v160Zm202-420h156l-78-126-78 126Zm78 0ZM360-340Zm340 80Z"/></svg>
          <a href="generos.html">Gênero</a>
        </li>

        <li id="adminMenu" class="d-flex align-items-center">
          <svg class="ms-3" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3"><path d="M520-600v-240h320v240H520ZM120-440v-400h320v400H120Zm400 320v-400h320v400H520Zm-400 0v-240h320v240H120Zm80-400h160v-240H200v240Zm400 320h160v-240H600v240Zm0-480h160v-80H600v80ZM200-200h160v-80H200v80Zm160-320Zm240-160Zm0 240ZM360-280Z"/></svg>
          <a href="dashboard.html">Painel Dashboard</a>
        </li>

        <li class="d-flex align-items-center">
          <svg class="ms-3" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#FFFFFF"><path d="M440-280h80v-240h-80v240Zm40-320q17 0 28.5-11.5T520-640q0-17-11.5-28.5T480-680q-17 0-28.5 11.5T440-640q0 17 11.5 28.5T480-600Zm0 520q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"/></svg>
          <a href="#">Sobre</a>
        </li>
      </ul>
    </aside>

<main>

  <canvas id="graficoGeneroFilmes" style="width: 500px; height: 500px;"></canvas>

  <div id="modalAdcUsuario" class="modal-backdrop d-none">
    <div id="popupAdcUsuario" class="modal-content w-25">
      <p class="fw-semibold fs-4 text-dark">Adicionar Usuário</p>
      <form id="formAdcUsuario" class="d-flex flex-column">
        <input type="text" id="username" placeholder="Nome de Usuário" required>
        <input type="email" id="registerEmail" placeholder="Email" required>
        <input type="password" id="registerPassword" placeholder="Senha" required>
        <input type="password" id="confirmPassword" placeholder="Confirmar Senha" required>
        <button id="addUserBtn" type="submit" class="py-2 rounded-4 bg-danger mt-3">Adicionar</button>
      </form>
    </div>
  </div>

  <div id="modalDelUsuario" class="modal-backdrop d-none">
    <div id="popupDelUsuario" class="modal-content w-25">
      <p class="fw-semibold fs-4 text-dark">Deletar Usuário</p>
      <form id="formDelUsuario" class="d-flex flex-column">
        <input type="text" id="idUsuarioRegistrado" placeholder="ID do Usuário" required>
        <input type="email" id="emailRegistrado" placeholder="Email do Usuário" required>
        <button id="delUserBtn" type="submit" class="py-2 rounded-4 bg-danger mt-3">Deletar</button>
      </form>
    </div>
  </div>

  <div id="modalAdcFilme" class="modal-backdrop d-none">
    <div id="popupAdcFilme" class="modal-content w-25">
      <p class="fw-semibold fs-4 text-dark">Adicionar Filme</p>
      <form id="formAdcFilme" class="d-flex flex-column">
        <input type="text" id="tituloFilmeRegistrar" placeholder="Título do Filme" required>
        <input type="number" id="anoFilmeRegistrar" placeholder="Ano de Lançamento" required>
        <input type="text" id="generoFilmeRegistrar" placeholder="Gênero do Filme" required>
        <input type="text" id="diretorFilmeRegistrar" placeholder="Diretor" required>
        <input type="number" id="notaFilmeRegistrar" placeholder="Avaliação" required>
        <button id="addFilmeBtn" type="submit" class="py-2 rounded-4 bg-danger mt-3">Adicionar</button>
      </form>
    </div>
  </div>

  <div id="modalDelFilme" class="modal-backdrop d-none">
    <div id="popupDelFilme" class="modal-content w-25">
      <p class="fw-semibold fs-4 text-dark">Deletar Filme</p>
      <form id="formDelFilme" class="d-flex flex-column">
        <input type="text" id="idFilmeRegistrado" placeholder="ID do Filme" required>
        <button id="delFilmeBtn" type="submit" class="py-2 rounded-4 bg-danger mt-3">Deletar</button>
      </form>
    </div>
  </div>

  <div id="modalEditarFilme" class="modal-backdrop d-none">
    <div id="popupEditarFilme" class="modal-content w-25">
      <p class="fw-semibold fs-4 text-dark">Editar Filme</p>
      <form id="formEditarFilme" class="d-flex flex-column">
        <input type="number" id="idFilmeEditar" placeholder="ID do Filme" required>
        <input type="text" id="tituloFilmeEditar" placeholder="Novo Título">
        <input type="number" id="anoFilmeEditar" placeholder="Novo Ano de Lançamento">
        <input type="text" id="generoFilmeEditar" placeholder="Novo Gênero">
        <input type="text" id="diretorFilmeEditar" placeholder="Novo Diretor">
        <input type="number" id="notaFilmeEditar" placeholder="Nova Avaliação">
        <button id="editarFilmeBtn" type="submit" class="py-2 rounded-4 bg-warning mt-3">Atualizar Filme</button>
      </form>
    </div>
  </div>

  <div id="modalEditarUsuario" class="modal-backdrop d-none">
    <div id="popupEditarUsuario" class="modal-content w-25">
      <p class="fw-semibold fs-4 text-dark">Editar Usuário</p>
      <form id="formEditarUsuario" class="d-flex flex-column">
        <input type="number" id="idUsuarioEditar" placeholder="ID do Usuário" required>
        <input type="text" id="nomeUsuarioEditar" placeholder="Novo Nome de Usuário">
        <input type="email" id="emailUsuarioEditar" placeholder="Novo Email">
        <input type="password" id="senhaUsuarioEditar" placeholder="Nova Senha">
        <textarea id="descUsuarioEditar" placeholder="Nova Descrição"></textarea>
        <button id="editarUsuarioBtn" type="submit" class="py-2 rounded-4 bg-warning mt-3">Atualizar Usuário</button>
      </form>
    </div>
  </div>
  

  <div id="dashUsuarios">
    <div class="d-flex align-items-center gap-4">
      <p class="fw-semibold fs-3 mt-3">Dashboard Usuarios</p>
      <div class="d-flex gap-2">
        <button id="abrirPopupAdcUsuario" class="border-0 py-1 px-2 bg-success text-dark fw-semibold rounded-2"">Adicionar Usuario</button>
        <button id="abrirPopupDelUsuario" class="border-0 py-1 px-2 bg-warning text-dark fw-semibold rounded-2">Excluir Usuario</button>
        <button id="abrirPopupEditarUsuario" class="border-0 py-1 px-2 bg-primary text-dark fw-semibold rounded-2">Editar Usuario</button>
      </div>
    </div>
    <div class="row-header bg-danger text-light">
      <p>ID</p>
      <p>Email</p>
      <p>Nome</p>
      <p>Senha</p>
    </div>
    <div id="usuariosContainer"></div>
  </div>

  <div id="dashFilmes">
    <div class="d-flex align-items-center gap-4">
      <p class="fw-semibold fs-3 mt-3">Dashboard Filmes</p>
      <div class="d-flex gap-2">
        <button id="abrirPopupAdcFilme" class="border-0 py-1 px-2 bg-success text-dark fw-semibold rounded-2">Adicionar Filme</button>
        <button id="abrirPopupDelFilme" class="border-0 py-1 px-2 bg-warning text-dark fw-semibold rounded-2">Excluir Filme</button>
        <button id="abrirPopupEditarFilme" class="border-0 py-1 px-2 bg-primary text-dark fw-semibold rounded-2">Editar Filme</button>
      </div>
    </div>
    <div class="row-header bg-danger text-light">
      <p>ID</p>
      <p>Titulo</p>
      <p>Categorias</p>
      <p>Ano</p>
      <p>Elenco</p>
      <p>Avaliação</p>
    </div>
    <div id="filmesContainer"></div>
  </div>

  <footer>
    <p>&copy; 2025 Maria Eduarda de Paula Brito - Versão Pública do Projeto: Catálogo de Filmes.</p>
  </footer>

</main>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="assets/scripts/graf.js"></script>
  <script src="assets/scripts/dashboard.js"></script>
  <script src="assets/scripts/app.js"></script>
</body>
</html>